"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var path = require("path");
var assert_1 = require("./assert");
var globby = require("globby");
exports.execute = function (globPattern) {
    var fileList = globby.sync(globPattern);
    var promises = fileList.map(function (filePath) {
        var ext = path.extname(filePath);
        if (ext === ".yml" || ext === ".yaml") {
            return assert_1.assertYAML(filePath);
        }
        else if (ext === ".json") {
            return assert_1.assertJSON(filePath);
        }
        throw new Error("This file is not supported: " + filePath);
    });
    return Promise.all(promises).then(function () {
        return "Pass " + fileList.length + " files!";
    });
};
//# sourceMappingURL=cli.js.map